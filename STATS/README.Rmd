---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-figs/",
  cache.path = "README-cache/"
)
```

# STATS (Stan for Analyzing Time Series)

The STATS R package implements Bayesian time series models, primarily for illustrative purposes and teaching (University of Washington's Fish 507, Winter quarter 2017)
You can install the development version of the package with:

```{r, eval=FALSE}
# install.packages("devtools")
devtools::install_github("eric-ward/safs-timeseries/STATS")
```

## An example model

Simulate data:

```{r simulate, cache=TRUE}
library(rstan)
library(STATS)
set.seed(123)
s = cumsum(rnorm(50))
```

```{r plot}
plot(s)
```

Fit several models to this data:

```{r fit, eval = FALSE}
# Regression, no slope
regression_model = fit_stan(y = s, x = model.matrix(lm(s~1)), model_name="regression")

# Regression, with slope
regression_model = fit_stan(y = s, x = model.matrix(lm(s~seq(1,length(s)))), model_name="regression")

# AR(1) time series model
ar1_model = fit_stan(y = s, est_drift=FALSE, P = 1, model_name = "ar")

# ARMA(1,1) time series model
arma1_model = fit_stan(y = s, model_name = "arma11")

# univariate ss model -- without drift but mean reversion estimated
ss_model = fit_stan(y = s, model_name = "ss_ar", est_drift=FALSE)
```

# References

[Fish 507 class website](https://catalyst.uw.edu/workspace/fish203/35553/243766)
...
